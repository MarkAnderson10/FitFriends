<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="shortcut icon" type="image/x-icon" href="assets/images/favicon.ico" />
        <title>FitFriends</title>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
        <link rel="stylesheet" type="text/css" href="stylesheet.css">
        <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Raleway">
        
        <script src="app.js"></script>
        
    </head>
    <header>
        <!--NAVBAR-->
        <nav class="navbar navbar-static-top navbar-inverse">
            <div class="container-fluid">
                <!-- Brand and toggle get grouped for better mobile display -->
                <div class="navbar-header">
                <a class="navbar-brand" href="index.html">
                    <img alt="FitFriends" src="/assets/images/fitfriendsminilogo.png" width="35px" height="35px" align="middle">
                </a>
                <button type="button" class="navbar-toggle pull-left collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                
                </div>
                <!-- Collect the nav links, forms, and other content for toggling -->
                <div class="navbar-collapse collapse" id="navbar">
                    <ul class="nav navbar-nav">
                        <li><a href="partner.html" style="color:white">Find a Partner</a></li>
                        <li><a href="maps.html" style="color:white">Find a Gym</a></li>
                        <li><a href="workouts.html" style="color:white">Workouts</a></li>
                        <li class="hide" id="profileTab"><a href="profile.html" style="color:white">Profile</a></li>
                    </ul>
                    <ul class="nav navbar-nav navbar-right">
                        <li><a href="#"><button class="btn btn-danger btn-sm hide" id="btnLogout" onclick="handleLogOut()" >Logout</button></a>
                    </ul>
                </div><!-- /.navbar-collapse -->
            </div><!-- /.container-fluid -->
        </nav>
        <div class="jumbotron jumbo-main">
            <div class="container">
                <img src="assets/images/fitfriendslogo.png">
                <h3 class="subtitle"><strong>The place to be to find your next gym partner</strong></h3>
                <button class="btn btn-info btn-lg" data-toggle="modal" data-target="#myModal" id="loginbtn">Login</button>
            <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="MyLargeModalLabel" aria-hidden="true">
                <div class="modal-dialog modal-md">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true"> 
                            </button>
                            <h4 class="modal-title" id="myModalLabel">Welcome to FitFriends!</h4> <!--CHANGE WHEN USER SWITCHES TO REGISTRATION TAB-->
                        </div>
                        <div class="modal-body">
                            <div class="row">
                                <div class="col-md-12">
                                <!--Nav Tabs-->
                                <ul class="nav nav-tabs">
                                    <li class="active"><a href="#Login" data-toggle="tab">Login</a></li>
                                    <li><a href="#Signup" data-toggle="tab">Create an Account</a></li>
                                </ul>
                                <!--Tab Panes-->
                                <!--LOGIN-->
                                <div class="tab-content">
                                    <div class="tab-pane active" id="Login">
                                        <div role="form" class="form-horizontal">
                                        <div class="form-group">
                                            <label for="email" class="col-sm-2 control-label">Email</label>
                                            <div class="col-sm-10">
                                                <input type="email" class="form-control" id="txtEmailLogin" placeholder="Email" required/>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label for="password" class="col-sm-2 control-label">Password</label>
                                            <div class="col-sm-10">
                                                <input type="password" name="password" id="txtPasswordLogin" class="form-control" placeholder="Password" required/>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-sm-2">
                                            </div>
                                            <div class="col-sm-10 text-right">
                                                <button type="submit" class="btn btn-info btn-lg" data-dismiss="modal" id="btnSubmitLogin" onclick="handleSignIn()">Login</button>
                                            </div>
                                        </div>
                                        </div>
                                    </div>
                                    <!--REGISTRATION-->
                                    <div class="tab-pane" id="Signup">
                                        <div class="form-horizontal" method="post" action="#">
                                             
                                        <div class="form-group">
                                            <label for="email" class="col-sm-2 control-label">Email</label>
                                            <div class="col-sm-10">
                                                <input type="text" class="form-control" name="email" id="txtEmail" placeholder="Email" required>
                                            </div>
                                        </div>
                                            
                                        <div class="form-group">
                                            <label for="password" class="col-sm-2 control-label">Password</label>
                                            <div class="col-sm-10">
                                                
                                                    <input type="password" class="form-control" name="password" id="txtPassword"  placeholder="Password" required>
                                                
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-sm-2">
                                            </div>
                                        <div class="col-sm-10 text-right">
                                                <button class="btn btn-info btn-lg" data-dismiss="modal" id="btnSignUp" onclick="handleSignUp()">Sign Up!</button>
                                        </div>
                                        </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
            </div>
        </div>
</header>
    <body id="mainpageColor">
        <div class="container" id="threeParagraphs">
          <!-- Example row of columns -->
          <div>
            <div class="col-md-4">
              <h2 style="color:white">Motivation</h2>
              <p style="color:white">This site was created to help people with a similar interest connect with eachother. Whether you are an expert in the fitness world or a beginner, this will help you reach goals, motivate others and simply make new friends! </p>
            </div>
            <div class="col-md-4">
              <h2 style="color:white">What's New</h2>
                <p style="color:white">Welcome to Fitfriends! New features include <strong>"Find a Partner"</strong>, which will allow you to browse through other users that share similar interests and contact them to become their gym partner. <strong>"Find a Gym"</strong> will just be an ease of access map that you can search for local gyms to workout in.</p>
           </div>
            <div class="col-md-4">
              <h2 style="color:white">Get Started</h2>
              <p style="color:white">Start by signing up for a free account. Once you are registered and signed in, you can freely navigate and use all features on the site. Enjoy!</p>
            </div>
          </div>
    <hr>
    
        <footer class="footer navbar-fixed-bottom">
        &copy; FitFriends 2017
            Developed by: Mark Anderson
        </footer>
        </div>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
        <script src="https://www.gstatic.com/firebasejs/4.6.1/firebase.js"></script>
        
        <script>
        // Initialize Firebase
        var config = {
            apiKey: "AIzaSyB5gCXiQFrtZAvu4IIwDUbk_ogwsFULZ_o",
            authDomain: "fitfriends-6ca12.firebaseapp.com",
            databaseURL: "https://fitfriends-6ca12.firebaseio.com",
            projectId: "fitfriends-6ca12",
            storageBucket: "fitfriends-6ca12.appspot.com",
            messagingSenderId: "894823201524"
        };
        firebase.initializeApp(config);
        var database = firebase.database();
        var ref = database.ref('Users');
        
       /* function submitUser() {
		var data = {
            name: txtName.value
        }
        ref.push(data);
        }*/
    
        firebase.auth().onAuthStateChanged(function(user) {
            if (user) {
                console.log('user', user)
                document.getElementById("loginbtn").classList.add("hide");
                document.getElementById("btnLogout").classList.remove("hide");
                document.getElementById("profileTab").classList.remove("hide");
                user.updateProfile({
                    displayName: "FITFRIENDS"
                }).then(function() {
                    //update successful.
                } 
        )}
        });
        </script>
    </body>
</html>